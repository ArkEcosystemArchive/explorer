{"version":3,"sources":["webpack:///./src/pages/Wallet/Voters.vue?e9ba","webpack:///./src/pages/Wallet/Voters.vue?ecaa","webpack:///./src/pages/Wallet/Voters.vue?c2f7","webpack:///./src/pages/Wallet/Voters.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","delegate","username","_e","attrs","wallets","votes","sortParams","on","onSortChange","meta","currentPage","onPageChange","staticRenderFns","registerHooks","changePage","to","from","next","find","params","address","voters","Number","page","data","vm","setDelegate","setWallets","setMeta","name","$route","$router","push","pageCount","$store","getters","dispatch","field","type","component"],"mappings":"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","file":"js/voters.5e0ded38.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"max-w-2xl mx-auto md:pt-5\"},[_c('ContentHeader',[_vm._v(_vm._s(_vm.$t(\"WALLET.DELEGATE.VOTERS\"))+\" \"),(_vm.delegate)?_c('span',[_vm._v(\"- \"+_vm._s(_vm.delegate.username))]):_vm._e()]),_c('section',{staticClass:\"page-section py-5 md:py-10\"},[_c('div',{staticClass:\"hidden sm:block\"},[_c('TableWalletsDesktop',{attrs:{\"wallets\":_vm.wallets,\"total\":_vm.delegate ? _vm.delegate.votes : 0,\"sort-query\":_vm.sortParams},on:{\"on-sort-change\":_vm.onSortChange}})],1),_c('div',{staticClass:\"sm:hidden\"},[_c('TableWalletsMobile',{attrs:{\"wallets\":_vm.wallets,\"total\":_vm.delegate ? _vm.delegate.votes : 0}})],1),(_vm.showPagination)?_c('Pagination',{attrs:{\"meta\":_vm.meta,\"current-page\":_vm.currentPage},on:{\"page-change\":_vm.onPageChange}}):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch } from \"vue-property-decorator\";\nimport { Route } from \"vue-router\";\nimport { IBlock, IDelegate, ISortParameters, IWallet } from \"@/interfaces\";\nimport DelegateService from \"@/services/delegate\";\n\nComponent.registerHooks([\"beforeRouteEnter\", \"beforeRouteUpdate\"]);\n\n@Component\nexport default class WalletVoters extends Vue {\n  private delegate: IDelegate | null = null;\n  private wallets: IWallet[] | null = null;\n  private meta: any | null = null;\n  private currentPage = 0;\n\n  get showPagination() {\n    return this.meta && this.meta.pageCount > 1;\n  }\n\n  get address() {\n    return this.$route.params.address;\n  }\n\n  get sortParams() {\n    return this.$store.getters[\"ui/walletSortParams\"];\n  }\n\n  set sortParams(params: ISortParameters) {\n    this.$store.dispatch(\"ui/setWalletSortParams\", {\n      field: params.field,\n      type: params.type,\n    });\n  }\n\n  @Watch(\"currentPage\")\n  public onCurrentPageChanged() {\n    this.changePage();\n  }\n\n  public async beforeRouteEnter(to: Route, from: Route, next: (vm: any) => void) {\n    try {\n      const delegate = await DelegateService.find(to.params.address);\n      const { meta, data } = await DelegateService.voters(to.params.address, Number(to.params.page));\n\n      next((vm: WalletVoters) => {\n        vm.currentPage = Number(to.params.page);\n        vm.setDelegate(delegate);\n        // @ts-ignore\n        vm.setWallets(data);\n        vm.setMeta(meta);\n      });\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  public async beforeRouteUpdate(to: Route, from: Route, next: (vm?: any) => void) {\n    this.wallets = null;\n    this.meta = null;\n\n    try {\n      const delegate = await DelegateService.find(to.params.address);\n      const { meta, data } = await DelegateService.voters(to.params.address, Number(to.params.page));\n\n      this.currentPage = Number(to.params.page);\n      this.setDelegate(delegate);\n      // @ts-ignore\n      this.setWallets(data);\n      this.setMeta(meta);\n      next();\n    } catch (e) {\n      next({ name: \"404\" });\n    }\n  }\n\n  private setDelegate(delegate: IDelegate) {\n    this.delegate = delegate;\n  }\n\n  private setWallets(wallets: IWallet[]) {\n    this.wallets = wallets;\n  }\n\n  private setMeta(meta: any) {\n    this.meta = meta;\n  }\n\n  private onPageChange(page: number) {\n    this.currentPage = page;\n  }\n\n  private changePage() {\n    if (this.currentPage !== Number(this.$route.params.page) || this.address !== this.$route.params.address) {\n      // @ts-ignore\n      this.$router.push({\n        name: \"wallet-voters\",\n        params: {\n          address: this.address,\n          page: this.currentPage,\n        },\n      });\n    }\n  }\n\n  private onSortChange(params: ISortParameters) {\n    this.sortParams = params;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voters.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--13-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Voters.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Voters.vue?vue&type=template&id=23e2cab1&\"\nimport script from \"./Voters.vue?vue&type=script&lang=ts&\"\nexport * from \"./Voters.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}